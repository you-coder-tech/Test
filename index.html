<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Music Player</title>
    
    <!-- 1. ربط ملف التصميم اللي عدلناه المرة اللي فاتت -->
    <link rel="stylesheet" href="style.css">
    
    <!-- مكتبات مساعدة لـ جلب بيانات الأغنية والألوان -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
</head>
<body>

    <!-- الهيكل الرئيسي للموقع -->
    <div class="container">
        <!-- قسم قائمة الأغاني -->
        <div class="playlist-container" id="playlist-container">
            <h2>Playlist</h2>
            <ul class="playlist" id="playlist"></ul>
            <div id="empty-playlist-msg" style="text-align: center; color: #888; position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);">Build your library!</div>
            <div class="playlist-buttons">
                <button id="upload-btn" class="btn">Upload Songs</button>
                <button id="clear-btn" class="btn clear">Clear Library</button>
            </div>
            <div id="library-stats">
                <p>Total Tracks: <span id="track-count">0</span> | Storage Used: <span id="storage-used">0 MB</span></p>
            </div>
            <input type="file" id="upload-input" multiple accept="audio/*" hidden>
        </div>

        <!-- قسم المشغل الرئيسي -->
        <div class="player-container">
            <div class="album-art" id="album-art">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,3V12.26C11.5,12.09 11,12 10.5,12C8,12 6,14 6,16.5C6,19 8,21 10.5,21C13,21 15,19 15,16.5V6H19V3H12Z" /></svg>
            </div>
            <div class="song-info">
                <h3 id="song-title">No Song Loaded</h3>
                <p id="song-artist">Upload music to begin</p>
            </div>
            <div class="progress-container" id="progress-container">
                <div class="progress" id="progress"></div>
            </div>
            <div class="time-stamps">
                <span id="current-time">0:00</span>
                <span id="total-duration">0:00</span>
            </div>
            <div class="controls">
                <button id="shuffle-btn" title="Shuffle"><svg viewBox="0 0 24 24"><path d="M10.59,9.17L5.41,4L4,5.41L9.17,10.59L10.59,9.17M14.83,13.41L13.41,14.83L18.59,20L20,18.59L14.83,13.41M5.41,20L4,18.59L18.59,4L20,5.41L5.41,20Z"/></svg></button>
                <button id="prev-btn" title="Previous"><svg viewBox="0 0 24 24"><path d="M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z" /></svg></button>
                <button id="play-pause-btn"><svg id="play-icon" viewBox="0 0 24 24"><path d="M8,5.14V19.14L19,12.14L8,5.14Z" /></svg><svg id="pause-icon" viewBox="0 0 24 24" style="display:none;"><path d="M14,19H18V5H14M6,19H10V5H6V19Z" /></svg></button>
                <button id="next-btn" title="Next"><svg viewBox="0 0 24 24"><path d="M16,18H18V6H16M6,18L14.5,12L6,6V18Z" /></svg></button>
                <button id="repeat-btn" title="Repeat All"><svg id="repeat-icon" viewBox="0 0 24 24"><path d="M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7Z"/></svg><svg id="repeat-one-icon" style="display:none;" viewBox="0 0 24 24"><path d="M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7M13,10.5V7.5H12V9H11V7H9V10H12V11.5H13Z"/></svg></button>
                <div class="volume-container">
                    <button id="volume-btn" title="Mute"><svg id="volume-high-icon" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"/></svg><svg id="volume-mute-icon" style="display:none;" viewBox="0 0 24 24"><path d="M2.5,7.5L6,11L2.5,14.5L1,13L4.5,9.5L1,6L2.5,7.5M12,4L7,9H3V15H7L12,20V4M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12Z"/></svg></button>
                    <div id="volume-slider"><input type="range" min="0" max="1" step="0.01" value="1"></div>
                </div>
            </div>
        </div>

        <!-- قسم كلمات الأغنية -->
        <div class="lyrics-container">
            <h2>Lyrics</h2>
            <div id="lyrics-content"><p>No lyrics found.</p></div>
        </div>
    </div>
    
    <!-- المشغل الصوتي الفعلي (مخفي) -->
    <audio id="audio-player" crossOrigin="anonymous"></audio>

    <!-- 2. ربط ملف الجافاسكريبت الجديد -->
    <script src="app.js"></script>
</body>
</html>
